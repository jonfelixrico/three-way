<div class="flex flex-column row-gap-3">
  <!-- TODO i18nize these -->

  <input
    type="text"
    pInputText
    [(ngModel)]="searchTerm$.value"
    placeholder="Username"
  />

  @if (searchTerm$.value.length === 0) {
    <div class="col">
      @for (user of toAdd(); track user.id) {
        <div class="flex flex-row align-items-center justify-content-center">
          <div>
            {{ user.username }}
          </div>

          <p-button (click)="removeUser(user.id)">Remove</p-button>
        </div>
      }
    </div>
  } @else if (searchResults.length === 0) {
    <div class="col flex flex-column justify-content-center align-items-center">
      No Results
    </div>
  } @else {
    <div class="col">
      @for (user of searchResults; track user.id) {
        <div class="flex flex-row align-items-center justify-content-center">
          <div>
            {{ user.username }}
          </div>

          <p-button [disabled]="alreadyAdded().has(user.id)">Add</p-button>
        </div>
      }
    </div>
  }

  <div class="flex flex-row justify-content-end">
    <button pButton type="submit" [disabled]="toAdd.length === 0">
      Submit
    </button>
  </div>
</div>
